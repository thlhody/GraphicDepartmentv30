2025-02-02 15:44:04,622 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.1.Final
2025-02-02 15:44:04,679 INFO o.s.b.StartupInfoLogger [restartedMain] Starting Application using Java 17.0.12 with PID 3928 (D:\WorkT\Projects Java\GraphDepG\target\classes started by thlho in D:\WorkT\Projects Java\GraphDepG)
2025-02-02 15:44:04,679 DEBUG o.s.b.StartupInfoLogger [restartedMain] Running with Spring Boot v3.2.0, Spring v6.1.1
2025-02-02 15:44:04,679 INFO o.s.b.SpringApplication [restartedMain] No active profile set, falling back to 1 default profile: "default"
2025-02-02 15:44:04,940 INFO o.s.b.l.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-02-02 15:44:04,940 INFO o.s.b.l.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-02-02 15:44:05,631 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-02 15:44:05,651 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 16 ms. Found 0 JPA repository interfaces.
2025-02-02 15:44:06,368 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat initialized with port 8443 (http)
2025-02-02 15:44:06,387 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8443"]
2025-02-02 15:44:06,389 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting service [Tomcat]
2025-02-02 15:44:06,392 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-02-02 15:44:06,497 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2025-02-02 15:44:06,497 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 1557 ms
2025-02-02 15:44:06,551 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2025-02-02 15:44:06,866 INFO c.z.h.p.HikariPool [restartedMain] HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:ctgraphdb user=SA
2025-02-02 15:44:06,878 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2025-02-02 15:44:06,890 INFO o.s.b.a.h.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:ctgraphdb'
2025-02-02 15:44:07,060 WARN o.a.j.l.DirectJDKLog [restartedMain] Cannot deserialize session attribute [SPRING_SECURITY_CONTEXT] for session [C9D851D4F63493E8C90E2490124D89C4]
2025-02-02 15:44:07,289 INFO o.h.j.i.u.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-02 15:44:07,507 INFO o.h.Version [restartedMain] HHH000412: Hibernate ORM core version 6.3.1.Final
2025-02-02 15:44:07,567 INFO o.h.c.i.RegionFactoryInitiator [restartedMain] HHH000026: Second-level cache disabled
2025-02-02 15:44:07,750 INFO o.s.o.j.p.SpringPersistenceUnitInfo [restartedMain] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-02 15:44:07,986 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [restartedMain] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-02-02 15:44:07,986 INFO o.s.o.j.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-02 15:44:08,011 INFO c.c.u.LoggerUtil [restartedMain] Initializing PathConfig$$SpringCGLIB$$0
2025-02-02 15:44:08,011 INFO c.c.u.LoggerUtil [restartedMain] Initialized paths - Network: D:\servernetworkgrafubu\CTTT, Installation: D:\serverlocalhome\CTTT
2025-02-02 15:44:08,011 INFO c.c.u.LoggerUtil [restartedMain] Initialized directory mappings
2025-02-02 15:44:08,011 INFO c.c.u.LoggerUtil [restartedMain] Determining active path
2025-02-02 15:44:08,023 DEBUG c.c.u.LoggerUtil [restartedMain] Network path check successful - Path: D:\servernetworkgrafubu\CTTT, Exists: true, IsDir: true
2025-02-02 15:44:08,023 INFO c.c.u.LoggerUtil [restartedMain] Using network path: D:\servernetworkgrafubu\CTTT
2025-02-02 15:44:08,048 INFO c.c.u.LoggerUtil [restartedMain] Initializing FileSyncService
2025-02-02 15:44:08,048 INFO c.c.u.LoggerUtil [restartedMain] Initializing DataAccessService
2025-02-02 15:44:08,060 INFO c.c.u.LoggerUtil [restartedMain] Initializing UserServiceImpl
2025-02-02 15:44:08,072 INFO c.c.u.LoggerUtil [restartedMain] Initializing UserWorkTimeService
2025-02-02 15:44:08,073 INFO c.c.u.LoggerUtil [restartedMain] Initializing SessionPersistenceService
2025-02-02 15:44:08,084 INFO c.c.u.LoggerUtil [restartedMain] Initializing UserSessionService
2025-02-02 15:44:08,084 INFO c.c.u.LoggerUtil [restartedMain] Initializing SessionRecoveryService
2025-02-02 15:44:08,096 INFO c.c.u.LoggerUtil [restartedMain] Initializing CustomUserDetailsService
2025-02-02 15:44:08,096 INFO c.c.u.LoggerUtil [restartedMain] Initializing AuthenticationService
2025-02-02 15:44:08,096 INFO c.c.u.LoggerUtil [restartedMain] Initializing AboutController
2025-02-02 15:44:08,109 INFO c.c.u.LoggerUtil [restartedMain] Initializing FolderStatusService
2025-02-02 15:44:08,109 INFO c.c.u.LoggerUtil [restartedMain] Initializing AdminBonusService
2025-02-02 15:44:08,109 INFO c.c.u.LoggerUtil [restartedMain] Initializing AdminBonusController
2025-02-02 15:44:08,109 INFO c.c.u.LoggerUtil [restartedMain] Initializing OnlineMetricsService
2025-02-02 15:44:08,121 INFO c.c.u.LoggerUtil [restartedMain] Initializing DashboardService
2025-02-02 15:44:08,121 INFO c.c.u.LoggerUtil [restartedMain] Added permissions for role ROLE_USER: MANAGE_USER_REGISTER, REQUEST_TIMEOFF, VIEW_WORKTIME_USER, MANAGE_SESSION, ACCESS_OMS, VIEW_STATUS_USER, MANAGE_ACCOUNT
2025-02-02 15:44:08,121 INFO c.c.u.LoggerUtil [restartedMain] Added permissions for role ROLE_ADMIN: REQUEST_TIMEOFF, VIEW_WORKTIME_ADMIN, MANAGE_SETTINGS, MANAGE_SESSION, MANAGE_ADMIN_REGISTER, VIEW_STATUS_ADMIN, MANAGE_ACCOUNT, ACCESS_OMS, MANAGE_HOLIDAYS, MANAGE_USER_REGISTER
2025-02-02 15:44:08,121 INFO c.c.u.LoggerUtil [restartedMain] Added permissions for role ROLE_TEAM_LEADER: MANAGE_SESSION, VIEW_WORKTIME_USER, VIEW_STATUS_ADMIN
2025-02-02 15:44:08,121 INFO c.c.u.LoggerUtil [restartedMain] Initializing AdminDashboardController
2025-02-02 15:44:08,133 INFO c.c.u.LoggerUtil [restartedMain] Initializing AdminPaidHolidayService
2025-02-02 15:44:08,133 INFO c.c.u.LoggerUtil [restartedMain] Initializing HolidayHistoryService
2025-02-02 15:44:08,133 INFO c.c.u.LoggerUtil [restartedMain] Initializing AdminHolidayController
2025-02-02 15:44:08,145 INFO c.c.u.LoggerUtil [restartedMain] Initializing WorkTimeManagementService
2025-02-02 15:44:08,145 INFO c.c.u.LoggerUtil [restartedMain] Initializing AdminRegisterService
2025-02-02 15:44:08,158 INFO c.c.u.LoggerUtil [restartedMain] Initializing AdminRegisterController
2025-02-02 15:44:08,158 INFO c.c.u.LoggerUtil [restartedMain] Initializing HolidayManagementService
2025-02-02 15:44:08,158 INFO c.c.u.LoggerUtil [restartedMain] Initializing UserManagementService
2025-02-02 15:44:08,158 INFO c.c.u.LoggerUtil [restartedMain] Initializing AdminSettingsController
2025-02-02 15:44:08,174 INFO c.c.u.LoggerUtil [restartedMain] Initializing AdminStatisticsService
2025-02-02 15:44:08,175 INFO c.c.u.LoggerUtil [restartedMain] Initializing AdminStatisticsController
2025-02-02 15:44:08,179 INFO c.c.u.LoggerUtil [restartedMain] Initializing WorkTimeConsolidationService
2025-02-02 15:44:08,186 INFO c.c.u.LoggerUtil [restartedMain] Initializing AdminWorkTimeController
2025-02-02 15:44:08,188 INFO c.c.u.LoggerUtil [restartedMain] Initializing FolderStatusController
2025-02-02 15:44:08,190 INFO c.c.u.LoggerUtil [restartedMain] Initializing HomeController
2025-02-02 15:44:08,192 INFO c.c.u.LoggerUtil [restartedMain] Initializing LoginController
2025-02-02 15:44:08,196 INFO c.c.u.LoggerUtil [restartedMain] Initializing StatusController
2025-02-02 15:44:08,197 INFO c.c.u.LoggerUtil [restartedMain] Initializing UserDashboardController
2025-02-02 15:44:08,201 INFO c.c.u.LoggerUtil [restartedMain] Initializing UserRegisterService
2025-02-02 15:44:08,203 INFO c.c.u.LoggerUtil [restartedMain] Initializing UserRegisterController
2025-02-02 15:44:08,209 INFO c.c.u.LoggerUtil [restartedMain] Initializing UserRestController
2025-02-02 15:44:08,215 INFO c.c.u.LoggerUtil [restartedMain] Initializing SessionCalculationService
2025-02-02 15:44:08,216 INFO c.c.u.LoggerUtil [restartedMain] Initializing UserSessionController
2025-02-02 15:44:08,217 INFO c.c.u.LoggerUtil [restartedMain] Initializing UserSettingsController
2025-02-02 15:44:08,218 INFO c.c.u.LoggerUtil [restartedMain] Initializing UserTimeOffService
2025-02-02 15:44:08,230 INFO c.c.u.LoggerUtil [restartedMain] Initializing UserTimeOffController
2025-02-02 15:44:08,242 INFO c.c.u.LoggerUtil [restartedMain] Initializing UserWorkTimeDisplayService
2025-02-02 15:44:08,242 INFO c.c.u.LoggerUtil [restartedMain] Initializing WorkTimeEntrySyncService
2025-02-02 15:44:08,242 INFO c.c.u.LoggerUtil [restartedMain] Initializing UserWorktimeController
2025-02-02 15:44:08,266 INFO c.c.u.LoggerUtil [restartedMain] Initializing SystemNotificationService
2025-02-02 15:44:08,266 INFO c.c.u.LoggerUtil [restartedMain] Initializing BackgroundMonitorExecutor
2025-02-02 15:44:08,266 DEBUG c.c.u.LoggerUtil [restartedMain] Searching for LOCAL session files in: D:\serverlocalhome\CTTT\dbj\user\usersession
2025-02-02 15:44:08,266 DEBUG c.c.u.LoggerUtil [restartedMain] Checking local file: session_tudor_2.json, Is valid session file: true
2025-02-02 15:44:08,266 INFO c.c.u.LoggerUtil [restartedMain] Most recent local session file found: session_tudor_2.json
2025-02-02 15:44:08,401 INFO c.c.u.LoggerUtil [restartedMain] Current logged-in username from local session: tudor
2025-02-02 15:44:08,401 INFO c.c.u.LoggerUtil [restartedMain] Logged-in App Username: tudor
2025-02-02 15:44:08,401 INFO c.c.u.LoggerUtil [restartedMain] Total active sessions found: 1
2025-02-02 15:44:08,401 INFO c.c.u.LoggerUtil [restartedMain] CRITICAL: Preparing to monitor session for MATCHING user: tudor (User ID: 2)
2025-02-02 15:44:08,401 INFO c.c.u.LoggerUtil [restartedMain] Started monitoring session for user: tudor
2025-02-02 15:44:08,413 INFO c.c.u.LoggerUtil [restartedMain] Initializing FileLocationStrategy
2025-02-02 15:44:08,413 INFO c.c.u.LoggerUtil [restartedMain] Initializing SyncStatusManager
2025-02-02 15:44:08,450 INFO c.c.u.LoggerUtil [restartedMain] Initializing NetworkMonitorService
2025-02-02 15:44:08,450 INFO c.c.u.LoggerUtil [restartedMain] Network monitoring started
2025-02-02 15:44:08,450 INFO c.c.u.LoggerUtil [pool-4-thread-1] Path Check: D:\servernetworkgrafubu\CTTT - Exists: true, IsDirectory: true, Readable: true, Writable: true
2025-02-02 15:44:08,450 INFO c.c.u.LoggerUtil [restartedMain] Initializing SessionMonitorService
2025-02-02 15:44:08,450 INFO c.c.u.LoggerUtil [pool-4-thread-1] Network status changed to: Available
2025-02-02 15:44:08,524 INFO c.c.u.LoggerUtil [restartedMain] Initializing CustomAuthenticationProvider
2025-02-02 15:44:09,060 INFO o.s.s.w.DefaultSecurityFilterChain [restartedMain] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5c0a39a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@75d4f7e3, org.springframework.security.web.context.SecurityContextHolderFilter@76cfc3ae, org.springframework.security.web.header.HeaderWriterFilter@5dd00a8f, org.springframework.web.filter.CorsFilter@5b70e004, org.springframework.security.web.authentication.logout.LogoutFilter@7e37d600, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@17b21241, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1c3d3472, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@efb1d19, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@2d10634e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6565a186, org.springframework.security.web.access.ExceptionTranslationFilter@7792df64, org.springframework.security.web.access.intercept.AuthorizationFilter@3b629756]
2025-02-02 15:44:09,863 INFO o.s.b.d.a.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2025-02-02 15:44:09,899 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8443"]
2025-02-02 15:44:09,949 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat started on port 8443 (http) with context path ''
2025-02-02 15:44:09,961 INFO o.s.b.StartupInfoLogger [restartedMain] Started Application in 5.839 seconds (process running for 6.422)
2025-02-02 15:44:09,973 INFO c.c.u.LoggerUtil [restartedMain] Headless mode check - GraphicsEnvironment: false, System property: false
2025-02-02 15:44:11,336 INFO c.c.u.LoggerUtil [AWT-EventQueue-0] System tray icon created successfully
2025-02-02 15:44:11,336 INFO c.c.u.LoggerUtil [AWT-EventQueue-0] System tray initialized successfully
2025-02-02 15:44:12,364 INFO c.c.u.LoggerUtil [AWT-EventQueue-0] Opening CTTT application in browser
2025-02-02 15:44:14,071 INFO o.a.j.l.DirectJDKLog [http-nio-8443-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-02-02 15:44:14,071 INFO o.s.w.s.FrameworkServlet [http-nio-8443-exec-1] Initializing Servlet 'dispatcherServlet'
2025-02-02 15:44:14,072 INFO o.s.w.s.FrameworkServlet [http-nio-8443-exec-1] Completed initialization in 1 ms
2025-02-02 15:44:14,088 WARN o.s.w.s.h.HandlerMappingIntrospector$CacheResultLogHelper [http-nio-8443-exec-1] Cache miss for REQUEST dispatch to '/' (previous null). Performing CorsConfiguration lookup. This is logged once only at WARN level, and every time at TRACE.
2025-02-02 15:44:14,158 INFO c.c.u.LoggerUtil [http-nio-8443-exec-2] Accessing login page
2025-02-02 15:44:14,159 DEBUG c.c.u.LoggerUtil [http-nio-8443-exec-2] Network mode availability: true
2025-02-02 15:44:14,159 DEBUG c.c.u.LoggerUtil [http-nio-8443-exec-2] Offline mode availability: true
2025-02-02 15:44:16,354 WARN o.s.w.s.h.HandlerMappingIntrospector$CacheResultLogHelper [http-nio-8443-exec-5] Cache miss for REQUEST dispatch to '/favicon.ico' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-02-02 15:44:17,544 INFO c.c.u.LoggerUtil [http-nio-8443-exec-6] Starting authentication process for user: tudor
2025-02-02 15:44:17,544 DEBUG c.c.u.LoggerUtil [http-nio-8443-exec-6] Attempting to load user from network path: D:\servernetworkgrafubu\CTTT\dbj\login\users.json
2025-02-02 15:44:17,549 INFO c.c.u.LoggerUtil [http-nio-8443-exec-6] Found user in network path: tudor
2025-02-02 15:44:17,549 DEBUG c.c.u.LoggerUtil [http-nio-8443-exec-6] Authenticating user: tudor, Encoded password from details: $2a$10$/M15uI4ys6/J34nkgqFgVOT5qsTryY4QT/GXhgoHqxaVDVOsoDrNu
2025-02-02 15:44:17,627 DEBUG c.c.u.LoggerUtil [http-nio-8443-exec-6] Password matcher result: true
2025-02-02 15:44:17,696 INFO c.c.u.LoggerUtil [http-nio-8443-exec-6] Successfully authenticated user tudor
2025-02-02 15:44:17,728 INFO c.c.u.LoggerUtil [http-nio-8443-exec-6] Session created: 487032AFD62C9740C109D8F4D1ECE99B
2025-02-02 15:44:17,747 INFO c.c.u.LoggerUtil [http-nio-8443-exec-6] Created 3 local directories successfully
2025-02-02 15:44:17,752 DEBUG c.c.u.LoggerUtil [http-nio-8443-exec-6] Found local session for user tudor
2025-02-02 15:44:17,752 INFO c.c.u.LoggerUtil [http-nio-8443-exec-6] Checking sync for file: session_tudor_2.json, isAdmin: false, username: tudor
2025-02-02 15:44:17,753 DEBUG c.c.u.LoggerUtil [http-nio-8443-exec-6] File session_tudor_2.json matches pattern session_.*_\d+\.json
2025-02-02 15:44:17,754 INFO c.c.u.LoggerUtil [http-nio-8443-exec-6] Final sync decision for session_tudor_2.json: true
2025-02-02 15:44:17,757 INFO c.c.u.LoggerUtil [http-nio-8443-exec-6] Successfully wrote to local path: D:\serverlocalhome\CTTT\dbj\user\usersession\session_tudor_2.json
2025-02-02 15:44:17,764 INFO c.c.u.LoggerUtil [http-nio-8443-exec-6] Syncing file
From: D:\serverlocalhome\CTTT\dbj\user\usersession\session_tudor_2.json
To: D:\servernetworkgrafubu\CTTT\dbj\user\usersession\session_tudor_2.json
2025-02-02 15:44:17,765 DEBUG c.c.u.LoggerUtil [http-nio-8443-exec-6] Created network directories
2025-02-02 15:44:17,768 INFO c.c.u.LoggerUtil [http-nio-8443-exec-6] File sync completed successfully
2025-02-02 15:44:17,768 INFO c.c.u.LoggerUtil [http-nio-8443-exec-6] Initiated sync from local to network:
From: D:\serverlocalhome\CTTT\dbj\user\usersession\session_tudor_2.json
To: D:\servernetworkgrafubu\CTTT\dbj\user\usersession\session_tudor_2.json
2025-02-02 15:44:17,770 WARN c.c.u.LoggerUtil [http-nio-8443-exec-6] No active session found for user tudor
2025-02-02 15:44:17,770 INFO c.c.u.LoggerUtil [http-nio-8443-exec-6] Successfully handled login for user: tudor (rememberMe: false)
2025-02-02 15:45:07,109 INFO c.c.u.LoggerUtil [Catalina-utility-1] Session destroyed: C9D851D4F63493E8C90E2490124D89C4
2025-02-02 15:45:08,413 INFO c.c.u.LoggerUtil [pool-3-thread-1] Checking session for user: tudor, User ID: 2
2025-02-02 15:45:14,217 INFO c.c.u.LoggerUtil [AWT-EventQueue-0] User chose to continue working
2025-02-02 15:47:50,697 INFO c.c.u.LoggerUtil [SpringApplicationShutdownHook] Background monitor executor shutdown complete
2025-02-02 15:47:50,697 INFO c.c.u.LoggerUtil [SpringApplicationShutdownHook] Network monitoring stopped
2025-02-02 15:47:50,701 INFO c.c.u.LoggerUtil [SpringApplicationShutdownHook] Background monitor executor shutdown complete
2025-02-02 15:47:50,701 INFO c.c.u.LoggerUtil [SpringApplicationShutdownHook] File sync service scheduler shutdown completed
2025-02-02 15:47:50,701 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-02 15:47:50,710 WARN o.s.b.f.s.DisposableBeanAdapter [SpringApplicationShutdownHook] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-224]
2025-02-02 15:47:50,710 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-02-02 15:47:50,710 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
