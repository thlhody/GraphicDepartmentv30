<!-- dashboard/base/dashboard-scripts.html -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<body>
<th:block th:fragment="scripts">
    <script th:inline="javascript">
        // Update clock
        function updateClock() {
            const clockElement = document.querySelector('.current-time');
            if (clockElement) {
                const now = new Date();
                clockElement.textContent = now.toLocaleTimeString();
            }
        }
        
        // Auto-refresh dashboard if enabled
        function setupRefresh() {
            const refreshEnabled = [[${refreshEnabled}]];
            const refreshInterval = [[${refreshInterval}]];
            
            if (refreshEnabled && refreshInterval) {
                setInterval(() => {
                    location.reload();
                }, refreshInterval);
            }
        }
        
        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            updateClock();
            setInterval(updateClock, 1000);
            setupRefresh();
        });
    </script>
</th:block>
</body>
</html>